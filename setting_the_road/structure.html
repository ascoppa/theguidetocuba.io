<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Structuring the Application | The Guide to Cuba</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="frodsan">
        <meta name="description" content="This book will teach you the basics of [Cuba](http://cuba.is/), the Ruby
microframework. Whether you are an experienced programmer or not, this
book is intended for everyone who wants to get started with a Cuba
application from scratch.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../setting_the_road/dependencies.html" />
        
        
        <link rel="prev" href="../setting_the_road/cuba.html" />
        

        <meta property="og:title" content="Structuring the Application | The Guide to Cuba">
        <meta property="og:site_name" content="The Guide to Cuba">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/frodsan">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        
    <div class="book" data-github="frodsan/theguidetocuba" data-level="2.2" data-basepath=".." data-revision="1397603091620">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/frodsan/theguidetocuba" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/frodsan/theguidetocuba/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/frodsan/theguidetocuba/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >The Guide to Cuba</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/frodsan" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/frodsan/theguidetocuba/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/frodsan/theguidetocuba/edit/master/setting_the_road/structure.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="assumptions/README.html">
                
                <a href="../assumptions/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> Assumptions
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="setting_the_road/README.html">
                
                <a href="../setting_the_road/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Setting the Road
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="setting_the_road/cuba.html">
                            
                            <a href="../setting_the_road/cuba.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> What&#39;s Cuba?
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="setting_the_road/structure.html">
                            
                            <a href="../setting_the_road/structure.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Structuring the Application
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="setting_the_road/dependencies.html">
                            
                            <a href="../setting_the_road/dependencies.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Installing the Dependencies
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 80%;min-width: 60%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../assumptions/README.html" title="Assumptions" class="chapter done new-chapter" data-progress="1" style="left: 20%;"></a>
    
        <a href="../setting_the_road/README.html" title="Setting the Road" class="chapter done new-chapter" data-progress="2" style="left: 40%;"></a>
    
        <a href="../setting_the_road/cuba.html" title="What&#39;s Cuba?" class="chapter done " data-progress="2.1" style="left: 60%;"></a>
    
        <a href="../setting_the_road/structure.html" title="Structuring the Application" class="chapter done " data-progress="2.2" style="left: 80%;"></a>
    
        <a href="../setting_the_road/dependencies.html" title="Installing the Dependencies" class="chapter  " data-progress="2.3" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_6">
                    
                        <h1 id="structuring-the-application">Structuring the Application</h1>
<p>Cuba gives you a lot of freedom to choose the architecture of your
application because it doesn&#39;t impose any. In this guide, we will use a
template called <a href="https://github.com/frodsan/app" target="_blank">app</a>. This template
includes a set of basic tools to create a web application.</p>
<p>To start using the template, open up a command line prompt and use git
to clone the repository of the project:</p>
<pre><code>$ git clone git@github<span class="hljs-preprocessor">.com</span>:frodsan/app<span class="hljs-preprocessor">.git</span> twitter_clone
$ cd twitter_clone
$ ls
README<span class="hljs-preprocessor">.md</span>    config<span class="hljs-preprocessor">.ru</span>    helpers    makefile    public    test
app<span class="hljs-preprocessor">.rb</span>       filters      mails      models      routes    views
</code></pre><p>Now, the <code>twitter_clone</code> directory has the files and folders that make up
the structure of the application. The following table shows a basic
overview of the purpose of each of the files and folders that were
created by the template.</p>
<table>
<thead>
<tr>
<th>File/Folder</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>.gems</td>
<td>Lists the dependencies of the application. The dep gem uses this file to install all the missing dependencies. For more information about the dep workflow, read the next section <a href="#installingdependencies">&quot;Installing Dependencies&quot;</a>.</td>
</tr>
<tr>
<td>app.rb</td>
<td>This is the main file that loads all the dependencies, sets the proper configurations and defines the main routes.</td>
</tr>
<tr>
<td>env.sh</td>
<td>This file contains a list of sensitive configurations (e.g. the database&#39;s url). The application loads these configurations as environment variables. Later, you can acces them in the code through the <code>ENV</code> accessor.</td>
</tr>
<tr>
<td>config.ru</td>
<td>Rack configuration file for Rack based servers used to start the application.</td>
</tr>
<tr>
<td>filters/</td>
<td>Contains the form validators. Unlike other frameworks, Cuba delegates validation and whitelisting responsibilities to filter objects. <a href="#TODO">&quot;Adding validations&quot;</a> covers filter objects in more detail.</td>
</tr>
<tr>
<td>helpers/</td>
<td>Helpers are a simple way to extend Cuba&#39;s functionality. This folder contains all the helpers for the application. This topic is covered in <a href="#TODO">&quot;Authoring your own plugin&quot;</a>.</td>
</tr>
<tr>
<td>mails/</td>
<td>Contains mail templates used by the application.</td>
</tr>
<tr>
<td>makefile</td>
<td>This file contains a series of tasks that can be run from the command line. E.g. tasks for running the server, testing or interacting with the application.</td>
</tr>
<tr>
<td>models/</td>
<td>Contains the models for the application.</td>
</tr>
<tr>
<td>public/</td>
<td>Contains static files accessible to the public (e.g. web browsers). Such as error pages, images, JavaScript and CSS files, etc. This is covered in more detail in <a href="#TODO">&quot;Adding style to the application&quot;</a>.</td>
</tr>
<tr>
<td>routes/</td>
<td>A Cuba application is composed by other miniature applications that add functionality to the main one. Ability to mount applications is one of the most powerful features of Cuba. This folder contains these miniature applications. <a href="#TODO">&quot;Setting up a modular application&quot;</a> covers this topic in more depth.</td>
</tr>
<tr>
<td>test/</td>
<td>Application tests. These are covered in <a href="#TODO">&quot;Testing the Cuba Application&quot;</a>.</td>
</tr>
<tr>
<td>views/</td>
<td>Contains the HTML templates for the application.</td>
</tr>
</tbody>
</table>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../setting_the_road/cuba.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../setting_the_road/dependencies.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
